---
import Base from '../../../layouts/Base.astro';
import { getCollection } from 'astro:content';

const members = await getCollection('members_ja');
const nav = [
  { label: '研究', href: '/ja/research/' },
  { label: '業績', href: '/ja/publications/' },
  { label: 'メンバー', href: '/ja/members/' },
  { label: '助成・活動', href: '/ja/activities/' },
  { label: '講義資料', href: '/ja/teaching/' },
  { label: 'アクセス', href: '/ja/access/' },
  { label: '研究室について', href: '/ja/about/' }
];
---
<Base title="メンバー | 亀岡研究室" lang="ja" nav={nav} altLang={{ href: '/en/members/', label: 'EN' }}>
  <section class="section container">
    <h2>メンバー</h2>
    <div class="grid grid-3">
      {members.map((m) => (
        <article class="card">
          {m.data.photo && <img src={m.data.photo} alt={m.data.name} style="border-radius:12px;" />}
          <h3>{m.data.name}</h3>
          <div>{m.data.role}</div>
          {m.data.affiliation && <div>{m.data.affiliation}</div>}
          {m.data.email && <div style="margin-top:8px;">{m.data.email}</div>}
          {m.data.keywords && (
            <div style="margin-top:10px;">{m.data.keywords.map((k)=> (<span class="badge">{k}</span>))}</div>
          )}
        </article>
      ))}
    </div>
  </section>
</Base>
